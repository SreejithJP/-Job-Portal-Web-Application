<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign-Up Page</title>
    <style>
        /* General Reset */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            text-decoration: none;
        }

        body {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            font-family: Arial, sans-serif;
            background-color: #f0f4f8;
        }

        /* Static Header */
        .header {
            height: 80px;
            width: 100%;
            background-color: #2c3e50;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            position: fixed;
            top: 0;
            z-index: 1000;
        }

        /* Sidebar */
        .sidebar {
            width: 250px;
            background-color: #34495e;
            color: white;
            padding-top: 100px;
            position: fixed;
            left: 0;
            top: 0;
            height: 100%;
        }

        .sidebar a {
            display: block;
            color: white;
            padding: 15px 20px;
            font-size: 18px;
            cursor: pointer;
        }

        .sidebar a:hover, .sidebar a.active {
            background-color: #1abc9c;
        }

        /* Main Content */
        .main-content {
            margin-left: 250px;
            padding: 100px 20px;
            flex-grow: 1;
        }

        /* Form Container */
        .signup-container {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            max-width: 500px;
            margin: 0 auto;
        }

        .signup-container h2 {
            text-align: center;
            margin-bottom: 20px;
            color: #333;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            font-size: 14px;
            color: #555;
            margin-bottom: 5px;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

		.btn {
		        background-color: #4CAF50;  /* Green background */
		        color: white;
		        padding: 12px 24px;  /* Padding around text */
		        border: none;
		        border-radius: 5px;  /* Rounded corners */
		        cursor: pointer;
		        font-size: 16px;
		        width: 200px;  /* Fixed width */
		        margin: 20px auto;  /* Center horizontally and add margin on top and bottom */
		        display: block;  /* Block display to make it behave as a block-level element */
		        transition: background-color 0.3s ease;  /* Smooth hover effect */
		    }

		    .btn:hover {
		        background-color: #45a049;  /* Darker shade of green on hover */
		    }

		    .btn:focus {
		        outline: none;  /* Remove default focus outline */
		        box-shadow: 0 0 5px rgba(0, 128, 0, 0.5);  /* Optional: Add a shadow for focus state */
		    }
			
        .error {
            color: red;
            font-size: 14px;
            text-align: center;
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>

    <div class="header">Sign-Up Page</div>

    <!-- Sidebar Navigation -->
    <div class="sidebar">
        <a href="#" id="seekerLink" class="active">Job Seeker</a>
        <a href="#" id="providerLink">Job Provider</a>
    </div>

    <!-- Main Content Area -->
    <div class="main-content">
		
        <!-- Job Seeker Form -->
		
		<form id="jobSeekerSignupForm">
			<h2>Job Seeker Sign-Up</h2>
		    <div class="form-group">
		        <label for="name">Full Name</label>
		        <input type="text" id="name" name="name" required>
		    </div>
		    <div class="form-group">
		        <label for="email">Email</label>
		        <input type="email" id="seekerEmail" name="email" required>
		    </div>
		    <div class="form-group">
		        <label for="password">Password</label>
		        <input type="password" id="seekerPassword" name="password" required>
		    </div>
		    <div class="form-group">
		        <label for="skills">Skills (comma-separated)</label>
		        <input type="text" id="skills" name="skills" required>
		    </div>
		    <div class="form-group">
		        <label for="experience">Experience (years)</label>
		        <input type="number" id="experience" name="experience" min="0" required>
		    </div>
		    <!-- New field for Education -->
		    <div class="form-group">
		        <label for="education">Education</label>
		        <input type="text" id="education" name="education" required>
		    </div>
		    <!-- New field for Contact Number -->
		    <div class="form-group">
		        <label for="contactNumber">Contact Number</label>
		        <input type="tel" id="contactNumber" name="contactNumber" required>
		    </div>
		    <button type="submit" class="btn">Sign Up</button>
		</form>
		<p id="errorMessage" class="error"></p>
		
		<!-- Job provider Form -->
		<div id="jobProviderSignupForm" class="hidden">
		       <h2>Job Provider Sign-Up</h2>
		       <form id="signupForm">
		           <div class="form-group">
		               <label for="companyName">Company Name</label>
		               <input type="text" id="companyName" name="companyName" required>
		           </div>
		           <div class="form-group">
		               <label for="providerEmail">Email</label>
		               <input type="email" id="providerEmail" name="email" required>
		           </div>
		           <div class="form-group">
		               <label for="password">Password</label>
		               <input type="password" id="providerPassword" name="password" required>
		           </div>
		           <div class="form-group">
		               <label for="location">Location</label>
		               <input type="text" id="location" name="location" required>
		           </div>
		           <div class="form-group">
		               <label for="address">Address</label>
		               <input type="text" id="address" name="address" required>
		           </div>
		           <div class="form-group">
		               <label for="establishedDate">Company Established Date</label>
		               <input type="date" id="establishedDate" name="establishedDate" required>
		           </div>
		           <div class="form-group">
		               <label for="businessType">Business Type</label>
		               <select id="businessType" name="businessType" required>
		                   <option value="product">Product-based</option>
		                   <option value="service">Service-based</option>
		               </select>
		           </div>
		           <div class="form-group">
		               <label for="industryType">Industry Type</label>
		               <select id="industryType" name="industryType" required>
		                   <option value="it">IT</option>
		                   <option value="manufacturing">Manufacturing</option>
		                   <option value="healthcare">Healthcare</option>
		                   <option value="education">Education</option>
		                   <option value="finance">Finance</option>
		               </select>
		           </div>
		           <div class="form-group">
					<label for="providerContactNumber">Contact Number</label>
					            <input type="tel" id="providerContactNumber" name="contactNumber" required>
		           </div>
		           <button type="submit" class="btn">Sign Up</button>
		       </form>
		       <p id="errorMessage" class="error"></p>
		   </div>

    <script>
		document.addEventListener('DOMContentLoaded', function() {
		    // Toggle forms visibility
		    const seekerLink = document.getElementById('seekerLink');
		    const providerLink = document.getElementById('providerLink');
		    const seekerForm = document.getElementById('jobSeekerSignupForm'); // Updated ID
		    const providerForm = document.getElementById('jobProviderSignupForm'); // Updated ID

		    // Show the seeker form by default
		    seekerForm.classList.remove('hidden');
		    providerForm.classList.add('hidden');

		    // When Job Seeker link is clicked
		    seekerLink.addEventListener('click', () => {
		        seekerForm.classList.remove('hidden');
		        providerForm.classList.add('hidden');
		        seekerLink.classList.add('active');
		        providerLink.classList.remove('active');
		    });

		    // When Job Provider link is clicked
		    providerLink.addEventListener('click', () => {
		        providerForm.classList.remove('hidden');
		        seekerForm.classList.add('hidden');
		        providerLink.classList.add('active');
		        seekerLink.classList.remove('active');
		    });
		});




        // Handle Job Seeker Sign-Up Submission
		
		    document.getElementById('jobSeekerSignupForm').addEventListener('submit', async function(e) {
		        e.preventDefault();  // Prevent default form submission

		        // Get form data
		        const name = document.getElementById('name').value;
		        const email = document.getElementById('seekerEmail').value;
		        const password = document.getElementById('seekerPassword').value;
		        const skills = document.getElementById('skills').value.split(',').map(skill => skill.trim());
		        const experience = document.getElementById('experience').value;
		        const education = document.getElementById('education').value;
		        const contactNumber = document.getElementById('contactNumber').value;

		        const errorMessage = document.getElementById('errorMessage');
		        errorMessage.textContent = '';  // Clear previous errors

		        try {
		            // Send form data to server
		            const response = await fetch('http://localhost:8080/job-seeker/signup', {
		                method: 'POST',
		                headers: {
		                    'Content-Type': 'application/json'
		                },
		                body: JSON.stringify({
		                    name,
		                    email,
		                    password,
		                    skills,
		                    experience,
		                    education,
		                    contactNumber
		                })
		            });

		            const data = await response.json();

		            if (response.ok) {
		                alert('Sign-up successful!');
		                window.location.href = '/auth/login'; // Redirect to login page after successful sign-up
		            } else {
		                errorMessage.textContent = data.message || 'Sign-up failed';
		            }
		        } catch (error) {
		            console.error('Error:', error);
		            errorMessage.textContent = 'An error occurred. Please try again.';
		        }
		    });


        // Handle Job Provider Sign-Up Submission
		// Job Provider form submission
		   document.getElementById('jobProviderSignupForm').addEventListener('submit', async function(e) {
		       e.preventDefault(); // Prevent default form submission

		       // Get form data
		       const companyName = document.getElementById('companyName').value;
		       const email = document.getElementById('providerEmail').value;
		       const password = document.getElementById('providerPassword').value;
		       const location = document.getElementById('location').value;
		       const address = document.getElementById('address').value;
		       const establishedDate = document.getElementById('establishedDate').value;
		       const businessType = document.getElementById('businessType').value;
		       const industryType = document.getElementById('industryType').value;
		       const contactNumber = document.getElementById('contactNumber').value;

		       const errorMessage = document.getElementById('errorMessage');
		       errorMessage.textContent = ''; // Clear previous errors

		       try {
		           // Send form data to server
		           const response = await fetch('http://localhost:8080/job-provider/signup', {
		               method: 'POST',
		               headers: {
		                   'Content-Type': 'application/json'
		               },
		               body: JSON.stringify({
		                   companyName,
		                   email,
		                   password,
		                   location,
		                   address,
		                   establishedDate,
		                   businessType,
		                   industryType,
		                   contactNumber
		               })
		           });

		           const data = await response.json();
		           
		           if (response.ok) {
		               alert('Job Provider Sign-up successful!');
		               window.location.href = '/auth/login'; // Redirect to login page after successful sign-up
		           } else {
		               errorMessage.textContent = data.message || 'Sign-up failed';
		           }
		       } catch (error) {
		           console.error('Error:', error);
		           errorMessage.textContent = 'An error occurred. Please try again.';
		       }
		   });
	  </script>

</body>
</html>
